<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Code Depot - The Best Code Manager</title>
    <meta name="description" content="Organize, manage, and share your code repositories with ease. Built for modern developers who value simplicity and efficiency." />
    <meta name="author" content="Code Depot" />

    <meta property="og:title" content="Code Depot - The Best Code Manager" />
    <meta property="og:description" content="Organize, manage, and share your code repositories with ease. Built for modern developers who value simplicity and efficiency." />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="https://lovable.dev/opengraph-image-p98pqg.png" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@lovable_dev" />
    <meta name="twitter:image" content="https://lovable.dev/opengraph-image-p98pqg.png" />
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" />
    
    <!-- React & Dependencies from CDN -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Sonner Toast -->
    <script src="https://unpkg.com/sonner@1.5.0/dist/sonner.umd.js"></script>
    
    <style>
        /* Design System Styles */
        :root {
            --background: 220 30% 5%;
            --foreground: 210 40% 98%;
            --card: 220 25% 8%;
            --card-foreground: 210 40% 98%;
            --popover: 220 25% 8%;
            --popover-foreground: 210 40% 98%;
            --primary: 225 70% 60%;
            --primary-foreground: 220 30% 5%;
            --secondary: 270 60% 65%;
            --secondary-foreground: 220 30% 5%;
            --muted: 220 25% 12%;
            --muted-foreground: 215 20% 65%;
            --accent: 190 80% 70%;
            --accent-foreground: 220 30% 5%;
            --destructive: 0 84% 60%;
            --destructive-foreground: 210 40% 98%;
            --border: 220 25% 15%;
            --input: 220 25% 12%;
            --ring: 225 70% 60%;
            --glass-bg: 220 25% 8% / 0.8;
            --glass-border: 220 25% 25% / 0.3;
            --gradient-primary: linear-gradient(135deg, hsl(225 70% 60%), hsl(270 60% 65%), hsl(190 80% 70%));
            --gradient-hero: linear-gradient(135deg, hsl(225 70% 60% / 0.1), hsl(270 60% 65% / 0.1));
            --gradient-glow: radial-gradient(circle at center, hsl(225 70% 60% / 0.3), transparent 70%);
            --shadow-glass: 0 8px 32px hsl(220 30% 5% / 0.4);
            --shadow-glow: 0 0 40px hsl(225 70% 60% / 0.3);
            --shadow-pulse: 0 0 20px hsl(225 70% 60% / 0.5);
            --radius: 1rem;
        }
        
        body {
            background: hsl(var(--background));
            color: hsl(var(--foreground));
            font-family: system-ui, -apple-system, sans-serif;
        }
        
        .bg-background { background-color: hsl(var(--background)); }
        .bg-card { background-color: hsl(var(--card)); }
        .bg-primary { background-color: hsl(var(--primary)); }
        .bg-secondary { background-color: hsl(var(--secondary)); }
        .bg-muted { background-color: hsl(var(--muted)); }
        .bg-accent { background-color: hsl(var(--accent)); }
        .bg-destructive { background-color: hsl(var(--destructive)); }
        
        .text-foreground { color: hsl(var(--foreground)); }
        .text-primary { color: hsl(var(--primary)); }
        .text-secondary { color: hsl(var(--secondary)); }
        .text-muted-foreground { color: hsl(var(--muted-foreground)); }
        .text-accent { color: hsl(var(--accent)); }
        .text-destructive { color: hsl(var(--destructive)); }
        
        .border-border { border-color: hsl(var(--border)); }
        .border-primary { border-color: hsl(var(--primary)); }
        .border-destructive { border-color: hsl(var(--destructive)); }
        
        .bg-gradient-primary { background: var(--gradient-primary); }
        .bg-gradient-hero { background: var(--gradient-hero); }
        
        .shadow-glass { box-shadow: var(--shadow-glass); }
        .shadow-glow { box-shadow: var(--shadow-glow); }
        
        .backdrop-blur-glass { backdrop-filter: blur(20px); }
        .bg-glass-bg { background-color: hsla(var(--glass-bg)); }
        .border-glass-border { border-color: hsla(var(--glass-border)); }
        
        /* Animation Classes */
        @keyframes typewriter {
            to { left: 100%; }
        }
        
        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0; }
        }
        
        @keyframes fade-in {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes slide-in-right {
            from { transform: translateX(100%); }
            to { transform: translateX(0); }
        }
        
        @keyframes pulse-glow {
            0%, 100% { box-shadow: 0 0 20px hsl(225 70% 60% / 0.3); }
            50% { box-shadow: 0 0 40px hsl(225 70% 60% / 0.6); }
        }
        
        .animate-blink { animation: blink 1s infinite; }
        .animate-fade-in { animation: fade-in 0.6s ease-out; }
        .animate-slide-in-right { animation: slide-in-right 0.3s ease-out; }
        .animate-pulse-glow { animation: pulse-glow 2s ease-in-out infinite; }
        
        /* Button styles */
        .btn-base {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            border-radius: 0.5rem;
            font-size: 0.875rem;
            font-weight: 500;
            transition: all 0.2s;
            cursor: pointer;
            border: none;
            outline: none;
        }
        
        .btn-primary {
            background-color: hsl(var(--primary));
            color: hsl(var(--primary-foreground));
            padding: 0.5rem 1rem;
        }
        
        .btn-primary:hover {
            opacity: 0.9;
        }
        
        .btn-secondary {
            background-color: hsl(var(--secondary));
            color: hsl(var(--secondary-foreground));
            padding: 0.5rem 1rem;
        }
        
        .btn-outline {
            border: 1px solid hsl(var(--border));
            background-color: transparent;
            color: hsl(var(--foreground));
            padding: 0.5rem 1rem;
        }
        
        .btn-outline:hover {
            background-color: hsl(var(--accent));
            color: hsl(var(--accent-foreground));
        }
        
        .btn-ghost {
            background-color: transparent;
            color: hsl(var(--foreground));
            padding: 0.5rem 1rem;
        }
        
        .btn-ghost:hover {
            background-color: hsl(var(--accent));
            color: hsl(var(--accent-foreground));
        }
        
        /* Card styles */
        .card {
            background-color: hsl(var(--card));
            border: 1px solid hsl(var(--border));
            border-radius: var(--radius);
            box-shadow: var(--shadow-glass);
        }
        
        /* Input styles */
        .input {
            display: flex;
            height: 2.5rem;
            width: 100%;
            border-radius: 0.5rem;
            border: 1px solid hsl(var(--border));
            background-color: hsl(var(--background));
            padding: 0.5rem 0.75rem;
            font-size: 0.875rem;
            color: hsl(var(--foreground));
            outline: none;
        }
        
        .input:focus {
            border-color: hsl(var(--ring));
            box-shadow: 0 0 0 2px hsl(var(--ring) / 0.2);
        }
        
        /* Textarea styles */
        .textarea {
            display: flex;
            min-height: 4rem;
            width: 100%;
            border-radius: 0.5rem;
            border: 1px solid hsl(var(--border));
            background-color: hsl(var(--background));
            padding: 0.5rem 0.75rem;
            font-size: 0.875rem;
            color: hsl(var(--foreground));
            outline: none;
            resize: vertical;
        }
        
        .textarea:focus {
            border-color: hsl(var(--ring));
            box-shadow: 0 0 0 2px hsl(var(--ring) / 0.2);
        }
        
        /* Badge styles */
        .badge {
            display: inline-flex;
            align-items: center;
            border-radius: 9999px;
            padding: 0.125rem 0.625rem;
            font-size: 0.75rem;
            font-weight: 600;
            transition: all 0.2s;
        }
        
        .badge-secondary {
            background-color: hsl(var(--secondary));
            color: hsl(var(--secondary-foreground));
        }
        
        /* Dialog/Modal styles */
        .dialog-overlay {
            position: fixed;
            inset: 0;
            z-index: 50;
            background-color: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(4px);
        }
        
        .dialog-content {
            position: fixed;
            left: 50%;
            top: 50%;
            z-index: 50;
            width: 100%;
            max-width: 32rem;
            transform: translate(-50%, -50%);
            background-color: hsl(var(--background));
            border: 1px solid hsl(var(--border));
            border-radius: var(--radius);
            box-shadow: var(--shadow-glass);
            padding: 1.5rem;
        }
        
        /* Toast styles */
        .toast-container {
            position: fixed;
            top: 0;
            right: 0;
            z-index: 100;
            padding: 1rem;
        }
        
        .toast {
            background-color: hsl(var(--background));
            border: 1px solid hsl(var(--border));
            border-radius: 0.5rem;
            padding: 1rem;
            margin-bottom: 0.5rem;
            box-shadow: var(--shadow-glass);
        }
        
        .toast.success {
            border-color: hsl(var(--primary));
        }
        
        .toast.error {
            border-color: hsl(var(--destructive));
        }
    </style>
    
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        background: 'hsl(var(--background))',
                        foreground: 'hsl(var(--foreground))',
                        card: 'hsl(var(--card))',
                        'card-foreground': 'hsl(var(--card-foreground))',
                        primary: 'hsl(var(--primary))',
                        'primary-foreground': 'hsl(var(--primary-foreground))',
                        secondary: 'hsl(var(--secondary))',
                        'secondary-foreground': 'hsl(var(--secondary-foreground))',
                        muted: 'hsl(var(--muted))',
                        'muted-foreground': 'hsl(var(--muted-foreground))',
                        accent: 'hsl(var(--accent))',
                        'accent-foreground': 'hsl(var(--accent-foreground))',
                        destructive: 'hsl(var(--destructive))',
                        'destructive-foreground': 'hsl(var(--destructive-foreground))',
                        border: 'hsl(var(--border))',
                        input: 'hsl(var(--input))',
                        ring: 'hsl(var(--ring))'
                    },
                    borderRadius: {
                        lg: 'var(--radius)',
                        md: 'calc(var(--radius) - 2px)',
                        sm: 'calc(var(--radius) - 4px)'
                    }
                }
            }
        }
    </script>
</head>

<body>
    <div id="root"></div>
    
    <script type="text/babel">
        const { useState, useEffect, useCallback } = React;
        const { createRoot } = ReactDOM;
        
        // Toast functionality
        let toastContainer = null;
        const initToastContainer = () => {
            if (!toastContainer) {
                toastContainer = document.createElement('div');
                toastContainer.className = 'toast-container';
                document.body.appendChild(toastContainer);
            }
        };
        
        const toast = {
            success: (message) => {
                initToastContainer();
                const toastEl = document.createElement('div');
                toastEl.className = 'toast success';
                toastEl.innerHTML = `<i class="fas fa-check-circle mr-2"></i>${message}`;
                toastContainer.appendChild(toastEl);
                setTimeout(() => toastEl.remove(), 3000);
            },
            error: (message) => {
                initToastContainer();
                const toastEl = document.createElement('div');
                toastEl.className = 'toast error';
                toastEl.innerHTML = `<i class="fas fa-exclamation-circle mr-2"></i>${message}`;
                toastContainer.appendChild(toastEl);
                setTimeout(() => toastEl.remove(), 3000);
            }
        };
        
        // TypewriterText Component
        const TypewriterText = ({ words, className = '' }) => {
            const [currentWordIndex, setCurrentWordIndex] = useState(0);
            const [currentText, setCurrentText] = useState('');
            const [isDeleting, setIsDeleting] = useState(false);
            const [isWaiting, setIsWaiting] = useState(false);

            useEffect(() => {
                const currentWord = words[currentWordIndex];
                const timeoutDelay = isDeleting ? 50 : 100;

                if (isWaiting) {
                    const waitTimeout = setTimeout(() => {
                        setIsWaiting(false);
                        setIsDeleting(true);
                    }, 2000);
                    return () => clearTimeout(waitTimeout);
                }

                const timeout = setTimeout(() => {
                    if (!isDeleting) {
                        if (currentText.length < currentWord.length) {
                            setCurrentText(currentWord.slice(0, currentText.length + 1));
                        } else {
                            setIsWaiting(true);
                        }
                    } else {
                        if (currentText.length > 0) {
                            setCurrentText(currentText.slice(0, -1));
                        } else {
                            setIsDeleting(false);
                            setCurrentWordIndex((prev) => (prev + 1) % words.length);
                        }
                    }
                }, timeoutDelay);

                return () => clearTimeout(timeout);
            }, [currentText, isDeleting, isWaiting, currentWordIndex, words]);

            return (
                <span className={className}>
                    {currentText}
                    <span className="border-r-2 border-accent animate-blink ml-1"></span>
                </span>
            );
        };
        
        // Button Component
        const Button = ({ children, onClick, className = '', variant = 'primary', size = 'default', disabled = false, ...props }) => {
            const baseClasses = 'btn-base';
            const variantClasses = {
                primary: 'btn-primary',
                secondary: 'btn-secondary',
                outline: 'btn-outline',
                ghost: 'btn-ghost'
            };
            
            const sizeClasses = {
                sm: 'px-2 py-1 text-xs',
                default: 'px-4 py-2',
                lg: 'px-6 py-3'
            };
            
            return (
                <button 
                    className={`${baseClasses} ${variantClasses[variant]} ${sizeClasses[size]} ${className} ${disabled ? 'opacity-50 cursor-not-allowed' : ''}`}
                    onClick={disabled ? undefined : onClick}
                    disabled={disabled}
                    {...props}
                >
                    {children}
                </button>
            );
        };
        
        // Input Component
        const Input = ({ className = '', ...props }) => {
            return <input className={`input ${className}`} {...props} />;
        };
        
        // Badge Component
        const Badge = ({ children, variant = 'secondary', className = '' }) => {
            const variantClasses = {
                secondary: 'badge-secondary'
            };
            
            return <span className={`badge ${variantClasses[variant]} ${className}`}>{children}</span>;
        };
        
        // Card Components
        const Card = ({ children, className = '' }) => {
            return <div className={`card ${className}`}>{children}</div>;
        };
        
        const CardHeader = ({ children, className = '' }) => {
            return <div className={`p-6 pb-0 ${className}`}>{children}</div>;
        };
        
        const CardContent = ({ children, className = '' }) => {
            return <div className={`p-6 pt-0 ${className}`}>{children}</div>;
        };
        
        const CardTitle = ({ children, className = '' }) => {
            return <h3 className={`text-lg font-semibold leading-none tracking-tight ${className}`}>{children}</h3>;
        };
        
        // Dialog/Modal Components
        const Dialog = ({ children, open, onOpenChange }) => {
            if (!open) return null;
            
            return (
                <div>
                    <div className="dialog-overlay" onClick={() => onOpenChange(false)} />
                    {children}
                </div>
            );
        };
        
        const DialogContent = ({ children, className = '' }) => {
            return <div className={`dialog-content ${className}`}>{children}</div>;
        };
        
        const DialogHeader = ({ children }) => {
            return <div className="mb-4">{children}</div>;
        };
        
        const DialogTitle = ({ children }) => {
            return <h2 className="text-lg font-semibold">{children}</h2>;
        };
        
        // Label Component
        const Label = ({ children, htmlFor, className = '' }) => {
            return <label htmlFor={htmlFor} className={`text-sm font-medium ${className}`}>{children}</label>;
        };
        
        // SettingsModal Component
        const SettingsModal = ({ 
            isOpen, 
            onClose, 
            githubPAT, 
            setGithubPAT, 
            githubRepo, 
            setGithubRepo,
            onSave 
        }) => {
            const [showPAT, setShowPAT] = useState(false);

            const handleSave = () => {
                if (!githubPAT.trim() || !githubRepo.trim()) {
                    toast.error('Please fill in all fields');
                    return;
                }

                if (!githubRepo.includes('/') || githubRepo.split('/').length !== 2) {
                    toast.error('Repository format should be: username/repository-name');
                    return;
                }

                localStorage.setItem('github_pat', githubPAT);
                localStorage.setItem('github_repo', githubRepo);
                
                toast.success('Settings saved successfully!');
                onSave();
                onClose();
            };

            return (
                <Dialog open={isOpen} onOpenChange={onClose}>
                    <DialogContent className="max-w-2xl">
                        <DialogHeader>
                            <DialogTitle>GitHub Integration Settings</DialogTitle>
                        </DialogHeader>
                        
                        <div className="space-y-6">
                            <Card>
                                <CardHeader>
                                    <CardTitle className="text-base">Setup Instructions</CardTitle>
                                </CardHeader>
                                <CardContent className="space-y-3 text-sm">
                                    <div className="space-y-2">
                                        <p className="font-medium">1. Create a GitHub Personal Access Token:</p>
                                        <ul className="list-disc pl-5 space-y-1 text-muted-foreground">
                                            <li>Go to GitHub → Settings → Developer settings → Personal access tokens</li>
                                            <li>Click "Generate new token (classic)"</li>
                                            <li>Select scopes: <code className="bg-muted px-1 rounded">repo</code> (Full control of private repositories)</li>
                                            <li>Copy the generated token</li>
                                        </ul>
                                        <Button 
                                            variant="outline" 
                                            size="sm" 
                                            onClick={() => window.open('https://github.com/settings/tokens', '_blank')}
                                            className="gap-2"
                                        >
                                            <i className="fas fa-external-link-alt"></i>
                                            Create GitHub Token
                                        </Button>
                                    </div>
                                    
                                    <div className="space-y-2">
                                        <p className="font-medium">2. Repository Format:</p>
                                        <p className="text-muted-foreground">
                                            Enter your repository in the format: <code className="bg-muted px-1 rounded">username/repository-name</code>
                                        </p>
                                    </div>
                                </CardContent>
                            </Card>

                            <div className="space-y-4">
                                <div className="space-y-2">
                                    <Label htmlFor="github-pat">GitHub Personal Access Token</Label>
                                    <div className="relative">
                                        <Input
                                            id="github-pat"
                                            type={showPAT ? 'text' : 'password'}
                                            value={githubPAT}
                                            onChange={(e) => setGithubPAT(e.target.value)}
                                            placeholder="ghp_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"
                                            className="pr-10"
                                        />
                                        <button
                                            type="button"
                                            className="absolute right-0 top-0 h-full px-3 hover:bg-transparent"
                                            onClick={() => setShowPAT(!showPAT)}
                                        >
                                            <i className={`fas ${showPAT ? 'fa-eye-slash' : 'fa-eye'}`}></i>
                                        </button>
                                    </div>
                                </div>

                                <div className="space-y-2">
                                    <Label htmlFor="github-repo">GitHub Repository</Label>
                                    <Input
                                        id="github-repo"
                                        value={githubRepo}
                                        onChange={(e) => setGithubRepo(e.target.value)}
                                        placeholder="yourusername/your-repo-name"
                                    />
                                </div>
                            </div>

                            <div className="flex justify-end gap-3">
                                <Button variant="outline" onClick={onClose}>
                                    Cancel
                                </Button>
                                <Button onClick={handleSave} className="gap-2">
                                    <i className="fas fa-save"></i>
                                    Save Settings
                                </Button>
                            </div>
                        </div>
                    </DialogContent>
                </Dialog>
            );
        };
        
        // CodeEditor Component
        const CodeEditor = ({ accessKey }) => {
            const [files, setFiles] = useState([]);
            const [activeFile, setActiveFile] = useState(null);
            const [newFileName, setNewFileName] = useState('');
            const [isCreating, setIsCreating] = useState(false);
            const [isSettingsOpen, setIsSettingsOpen] = useState(false);
            const [githubPAT, setGithubPAT] = useState('');
            const [githubRepo, setGithubRepo] = useState('');
            const [loading, setLoading] = useState(false);

            useEffect(() => {
                const savedPAT = localStorage.getItem('github_pat');
                const savedRepo = localStorage.getItem('github_repo');
                if (savedPAT) setGithubPAT(savedPAT);
                if (savedRepo) setGithubRepo(savedRepo);
                
                if (savedPAT && savedRepo) {
                    loadFiles();
                }
            }, [accessKey]);

            const getLanguageFromFileName = (fileName) => {
                const ext = fileName.split('.').pop()?.toLowerCase();
                const languageMap = {
                    'js': 'javascript',
                    'ts': 'typescript',
                    'jsx': 'javascript',
                    'tsx': 'typescript',
                    'py': 'python',
                    'java': 'java',
                    'cpp': 'cpp',
                    'c': 'c',
                    'html': 'html',
                    'css': 'css',
                    'json': 'json',
                    'md': 'markdown',
                    'txt': 'text'
                };
                return languageMap[ext || ''] || 'text';
            };

            const loadFiles = async () => {
                if (!githubPAT || !githubRepo) return;
                
                setLoading(true);
                try {
                    const response = await fetch(`https://api.github.com/repos/${githubRepo}/contents/code/${accessKey}`, {
                        headers: {
                            'Authorization': `token ${githubPAT}`,
                            'Accept': 'application/vnd.github.v3+json'
                        }
                    });

                    if (response.ok) {
                        const data = await response.json();
                        const filePromises = data
                            .filter((item) => item.type === 'file')
                            .map(async (item) => {
                                const fileResponse = await fetch(item.download_url);
                                const content = await fileResponse.text();
                                return {
                                    name: item.name,
                                    content,
                                    language: getLanguageFromFileName(item.name)
                                };
                            });
                        
                        const loadedFiles = await Promise.all(filePromises);
                        setFiles(loadedFiles);
                    }
                } catch (error) {
                    console.error('Error loading files:', error);
                } finally {
                    setLoading(false);
                }
            };

            const saveFile = async (file) => {
                if (!githubPAT || !githubRepo) {
                    toast.error('Please configure GitHub settings first');
                    setIsSettingsOpen(true);
                    return;
                }

                setLoading(true);
                try {
                    let sha = '';
                    try {
                        const existingResponse = await fetch(`https://api.github.com/repos/${githubRepo}/contents/code/${accessKey}/${file.name}`, {
                            headers: {
                                'Authorization': `token ${githubPAT}`,
                                'Accept': 'application/vnd.github.v3+json'
                            }
                        });
                        if (existingResponse.ok) {
                            const existingData = await existingResponse.json();
                            sha = existingData.sha;
                        }
                    } catch (error) {
                        // File doesn't exist, that's ok
                    }

                    const content = btoa(unescape(encodeURIComponent(file.content)));
                    const payload = {
                        message: `Save ${file.name}`,
                        content,
                        ...(sha && { sha })
                    };

                    const response = await fetch(`https://api.github.com/repos/${githubRepo}/contents/code/${accessKey}/${file.name}`, {
                        method: 'PUT',
                        headers: {
                            'Authorization': `token ${githubPAT}`,
                            'Content-Type': 'application/json',
                            'Accept': 'application/vnd.github.v3+json'
                        },
                        body: JSON.stringify(payload)
                    });

                    if (response.ok) {
                        toast.success(`${file.name} saved successfully!`);
                    } else {
                        const error = await response.json();
                        toast.error(`Failed to save: ${error.message}`);
                    }
                } catch (error) {
                    console.error('Error saving file:', error);
                    toast.error('Failed to save file');
                } finally {
                    setLoading(false);
                }
            };

            const deleteFile = async (fileName) => {
                if (!githubPAT || !githubRepo) return;

                setLoading(true);
                try {
                    const response = await fetch(`https://api.github.com/repos/${githubRepo}/contents/code/${accessKey}/${fileName}`, {
                        headers: {
                            'Authorization': `token ${githubPAT}`,
                            'Accept': 'application/vnd.github.v3+json'
                        }
                    });

                    if (response.ok) {
                        const data = await response.json();
                        
                        await fetch(`https://api.github.com/repos/${githubRepo}/contents/code/${accessKey}/${fileName}`, {
                            method: 'DELETE',
                            headers: {
                                'Authorization': `token ${githubPAT}`,
                                'Content-Type': 'application/json',
                                'Accept': 'application/vnd.github.v3+json'
                            },
                            body: JSON.stringify({
                                message: `Delete ${fileName}`,
                                sha: data.sha
                            })
                        });

                        setFiles(files.filter(f => f.name !== fileName));
                        if (activeFile?.name === fileName) {
                            setActiveFile(null);
                        }
                        toast.success(`${fileName} deleted successfully!`);
                    }
                } catch (error) {
                    console.error('Error deleting file:', error);
                    toast.error('Failed to delete file');
                } finally {
                    setLoading(false);
                }
            };

            const createFile = () => {
                if (!newFileName.trim()) return;
                
                const newFile = {
                    name: newFileName,
                    content: '',
                    language: getLanguageFromFileName(newFileName)
                };
                
                setFiles([...files, newFile]);
                setActiveFile(newFile);
                setNewFileName('');
                setIsCreating(false);
            };

            const updateFileContent = (content) => {
                if (!activeFile) return;
                
                const updatedFile = { ...activeFile, content };
                setActiveFile(updatedFile);
                
                setFiles(files.map(f => f.name === activeFile.name ? updatedFile : f));
            };

            return (
                <div className="min-h-screen bg-background">
                    <header className="border-b border-border bg-background backdrop-blur-sm sticky top-0 z-40">
                        <div className="container mx-auto px-4 py-4 flex items-center justify-between">
                            <div className="flex items-center gap-3">
                                <i className="fas fa-folder text-primary text-xl"></i>
                                <h1 className="text-xl font-semibold">Code Depot</h1>
                                <Badge variant="secondary">Key: {accessKey.slice(0, 8)}...</Badge>
                            </div>
                            <Button
                                variant="outline"
                                size="sm"
                                onClick={() => setIsSettingsOpen(true)}
                                className="gap-2"
                            >
                                <i className="fas fa-cog"></i>
                                Settings
                            </Button>
                        </div>
                    </header>

                    <div className="container mx-auto px-4 py-6">
                        <div className="grid grid-cols-1 lg:grid-cols-4 gap-6">
                            <Card className="lg:col-span-1 h-fit">
                                <CardHeader className="pb-3">
                                    <CardTitle className="text-sm flex items-center justify-between">
                                        Files
                                        <Button
                                            size="sm"
                                            variant="ghost"
                                            onClick={() => setIsCreating(true)}
                                            className="h-6 w-6 p-0"
                                        >
                                            <i className="fas fa-plus"></i>
                                        </Button>
                                    </CardTitle>
                                </CardHeader>
                                <CardContent className="space-y-2">
                                    {isCreating && (
                                        <div className="flex gap-2 mb-3">
                                            <Input
                                                placeholder="filename.js"
                                                value={newFileName}
                                                onChange={(e) => setNewFileName(e.target.value)}
                                                onKeyDown={(e) => e.key === 'Enter' && createFile()}
                                                className="h-8 text-sm"
                                                autoFocus
                                            />
                                            <Button size="sm" onClick={createFile} className="h-8 px-2">
                                                <i className="fas fa-plus"></i>
                                            </Button>
                                        </div>
                                    )}
                                    
                                    {files.map((file) => (
                                        <div
                                            key={file.name}
                                            className={`flex items-center justify-between p-2 rounded-md cursor-pointer transition-colors ${
                                                activeFile?.name === file.name
                                                    ? 'bg-primary bg-opacity-10 text-primary'
                                                    : 'hover:bg-muted hover:bg-opacity-50'
                                            }`}
                                            onClick={() => setActiveFile(file)}
                                        >
                                            <div className="flex items-center gap-2 min-w-0">
                                                <i className="fas fa-file-alt"></i>
                                                <span className="text-sm truncate">{file.name}</span>
                                            </div>
                                            <button
                                                className="h-6 w-6 p-0 opacity-0 group-hover:opacity-100"
                                                onClick={(e) => {
                                                    e.stopPropagation();
                                                    deleteFile(file.name);
                                                }}
                                            >
                                                <i className="fas fa-trash"></i>
                                            </button>
                                        </div>
                                    ))}
                                    
                                    {files.length === 0 && !loading && (
                                        <p className="text-sm text-muted-foreground text-center py-4">
                                            No files yet. Create your first file!
                                        </p>
                                    )}
                                </CardContent>
                            </Card>

                            <Card className="lg:col-span-3">
                                <CardHeader className="pb-3">
                                    <div className="flex items-center justify-between">
                                        <CardTitle className="text-sm">
                                            {activeFile ? activeFile.name : 'Select a file to edit'}
                                        </CardTitle>
                                        {activeFile && (
                                            <Button
                                                size="sm"
                                                onClick={() => saveFile(activeFile)}
                                                disabled={loading}
                                                className="gap-2"
                                            >
                                                <i className="fas fa-save"></i>
                                                Save
                                            </Button>
                                        )}
                                    </div>
                                </CardHeader>
                                <CardContent>
                                    {activeFile ? (
                                        <div className="space-y-4">
                                            <textarea
                                                value={activeFile.content}
                                                onChange={(e) => updateFileContent(e.target.value)}
                                                className="textarea w-full h-96 font-mono text-sm bg-muted bg-opacity-30"
                                                placeholder={`Start coding in ${activeFile.name}...`}
                                            />
                                            <div className="flex items-center justify-between text-xs text-muted-foreground">
                                                <span>Language: {activeFile.language}</span>
                                                <span>Lines: {activeFile.content.split('\n').length}</span>
                                            </div>
                                        </div>
                                    ) : (
                                        <div className="flex items-center justify-center h-96 text-muted-foreground">
                                            <div className="text-center">
                                                <i className="fas fa-file-alt text-5xl mb-4 opacity-50"></i>
                                                <p>Select a file from the sidebar to start editing</p>
                                            </div>
                                        </div>
                                    )}
                                </CardContent>
                            </Card>
                        </div>
                    </div>

                    <SettingsModal
                        isOpen={isSettingsOpen}
                        onClose={() => setIsSettingsOpen(false)}
                        githubPAT={githubPAT}
                        setGithubPAT={setGithubPAT}
                        githubRepo={githubRepo}
                        setGithubRepo={setGithubRepo}
                        onSave={loadFiles}
                    />
                </div>
            );
        };
        
        // Sidebar Component
        const Sidebar = ({ isOpen, onClose }) => {
            const [isAuthenticated, setIsAuthenticated] = useState(false);
            const [accessKey, setAccessKey] = useState('');
            const [isDarkMode, setIsDarkMode] = useState(false);
            const [loginKey, setLoginKey] = useState('');
            const [isLoading, setIsLoading] = useState(false);

            useEffect(() => {
                const storedKey = localStorage.getItem('codeDepotKey');
                const storedAuth = localStorage.getItem('codeDepotAuth');
                
                if (storedKey && storedAuth === 'true') {
                    setAccessKey(storedKey);
                    setIsAuthenticated(true);
                }

                const storedTheme = localStorage.getItem('codeDepotTheme');
                setIsDarkMode(storedTheme === 'dark');
            }, []);

            const generateKey = async () => {
                setIsLoading(true);
                try {
                    const key = Math.random().toString(36).substring(2, 15) + Math.random().toString(36).substring(2, 15);
                    
                    localStorage.setItem('codeDepotKey', key);
                    localStorage.setItem('codeDepotAuth', 'true');
                    
                    setAccessKey(key);
                    setIsAuthenticated(true);
                    
                    toast.success(`Key generated: ${key.substring(0, 6)}...`);
                } catch (error) {
                    toast.error("Failed to generate key. Please try again.");
                } finally {
                    setIsLoading(false);
                }
            };

            const handleLogin = async () => {
                if (!loginKey.trim()) {
                    toast.error("Please enter your access key.");
                    return;
                }

                setIsLoading(true);
                try {
                    localStorage.setItem('codeDepotKey', loginKey);
                    localStorage.setItem('codeDepotAuth', 'true');
                    
                    setAccessKey(loginKey);
                    setIsAuthenticated(true);
                    setLoginKey('');
                    
                    toast.success("Login successful! Welcome back to Code Depot.");
                    onClose();
                    window.location.reload();
                } catch (error) {
                    toast.error("Invalid access key. Please try again.");
                } finally {
                    setIsLoading(false);
                }
            };

            const handleLogout = () => {
                localStorage.removeItem('codeDepotKey');
                localStorage.removeItem('codeDepotAuth');
                setIsAuthenticated(false);
                setAccessKey('');
                
                toast.success("Logged out successfully!");
                onClose();
                window.location.reload();
            };

            const toggleTheme = () => {
                const newTheme = !isDarkMode;
                setIsDarkMode(newTheme);
                localStorage.setItem('codeDepotTheme', newTheme ? 'dark' : 'light');
                
                if (newTheme) {
                    document.documentElement.classList.add('dark');
                } else {
                    document.documentElement.classList.remove('dark');
                }
            };

            const openGitHub = () => {
                window.open('https://github.com/PLAYER-333', '_blank');
            };

            return (
                <>
                    <div 
                        className={`fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm transition-opacity z-40 ${
                            isOpen ? 'opacity-100' : 'opacity-0 pointer-events-none'
                        }`}
                        onClick={onClose}
                    />
                    
                    <div className={`fixed top-0 right-0 h-full w-96 max-w-[90vw] transform transition-transform duration-300 ease-out z-50 ${
                        isOpen ? 'translate-x-0' : 'translate-x-full'
                    }`}>
                        <div className="h-full bg-glass-bg backdrop-blur-glass border-l border-glass-border shadow-glass">
                            <div className="p-6 h-full flex flex-col">
                                <div className="flex items-center justify-between mb-8">
                                    <h2 className="text-2xl font-bold bg-gradient-primary bg-clip-text text-transparent">
                                        Code Depot
                                    </h2>
                                    <button 
                                        onClick={onClose}
                                        className="p-2 hover:bg-white hover:bg-opacity-10 rounded-lg transition-colors"
                                    >
                                        <i className="fas fa-times text-foreground text-xl"></i>
                                    </button>
                                </div>

                                <div className="flex-1 space-y-6">
                                    {!isAuthenticated ? (
                                        <>
                                            <div className="space-y-4">
                                                <h3 className="text-lg font-semibold text-foreground">Log In</h3>
                                                <div className="space-y-3">
                                                    <Input
                                                        type="text"
                                                        placeholder="Enter your access key"
                                                        value={loginKey}
                                                        onChange={(e) => setLoginKey(e.target.value)}
                                                        className="bg-muted bg-opacity-50 border-border"
                                                    />
                                                    <Button 
                                                        onClick={handleLogin}
                                                        disabled={isLoading}
                                                        className="w-full bg-primary hover:bg-primary hover:opacity-90"
                                                    >
                                                        <i className="fas fa-sign-in-alt mr-2"></i>
                                                        {isLoading ? 'Logging in...' : 'Log In'}
                                                    </Button>
                                                </div>
                                            </div>

                                            <div className="border-t border-border pt-6">
                                                <h3 className="text-lg font-semibold text-foreground mb-4">
                                                    Don't have an account?
                                                </h3>
                                                <Button 
                                                    onClick={generateKey}
                                                    disabled={isLoading}
                                                    variant="outline"
                                                    className="w-full border-primary hover:bg-primary hover:bg-opacity-10"
                                                >
                                                    <i className="fas fa-key mr-2"></i>
                                                    {isLoading ? 'Generating...' : 'Generate Key'}
                                                </Button>
                                            </div>
                                        </>
                                    ) : (
                                        <>
                                            <div className="space-y-4">
                                                <div className="p-4 bg-muted bg-opacity-30 rounded-lg border border-border">
                                                    <p className="text-sm text-muted-foreground mb-1">Access Key</p>
                                                    <p className="font-mono text-primary">
                                                        {accessKey.substring(0, 6)}*****
                                                    </p>
                                                </div>

                                                <Button 
                                                    onClick={handleLogout}
                                                    variant="outline"
                                                    className="w-full border-destructive hover:bg-destructive hover:bg-opacity-10 text-destructive"
                                                >
                                                    <i className="fas fa-sign-out-alt mr-2"></i>
                                                    Log Out
                                                </Button>

                                                <Button 
                                                    onClick={toggleTheme}
                                                    variant="outline"
                                                    className="w-full"
                                                >
                                                    <i className={`fas ${isDarkMode ? 'fa-sun' : 'fa-moon'} mr-2`}></i>
                                                    {isDarkMode ? 'Light Mode' : 'Dark Mode'}
                                                </Button>

                                                <Button 
                                                    onClick={openGitHub}
                                                    className="w-full bg-gradient-primary hover:opacity-90"
                                                >
                                                    <i className="fab fa-github mr-2"></i>
                                                    View on GitHub
                                                </Button>
                                            </div>
                                        </>
                                    )}
                                </div>
                            </div>
                        </div>
                    </div>
                </>
            );
        };
        
        // Main App Component
        const App = () => {
            const [isSidebarOpen, setIsSidebarOpen] = useState(false);
            const [isAuthenticated, setIsAuthenticated] = useState(false);
            const [accessKey, setAccessKey] = useState('');

            useEffect(() => {
                const storedKey = localStorage.getItem('codeDepotKey');
                const storedAuth = localStorage.getItem('codeDepotAuth');
                
                if (storedKey && storedAuth === 'true') {
                    setAccessKey(storedKey);
                    setIsAuthenticated(true);
                }
            }, []);

            const openSidebar = () => setIsSidebarOpen(true);
            const closeSidebar = () => setIsSidebarOpen(false);

            // If authenticated, show code editor
            if (isAuthenticated && accessKey) {
                return <CodeEditor accessKey={accessKey} />;
            }

            // Landing page
            const userTypes = [
                "Students",
                "Teachers", 
                "Professionals",
                "DevOps Engineers",
                "Mobile Developers",
                "Data Scientists",
                "AI/ML Engineers",
                "Open Source Contributors"
            ];

            return (
                <div className="min-h-screen relative overflow-hidden bg-background">
                    {/* Background Effects */}
                    <div className="absolute inset-0 bg-gradient-hero opacity-50"></div>
                    <div className="absolute top-20 left-20 w-72 h-72 bg-gradient-glow rounded-full blur-3xl opacity-30 animate-pulse-glow"></div>
                    <div className="absolute bottom-20 right-20 w-96 h-96 bg-gradient-glow rounded-full blur-3xl opacity-20 animate-pulse-glow" style={{animationDelay: '1s'}}></div>
                    
                    {/* Header */}
                    <header className="relative z-10 border-b border-border bg-background backdrop-blur-sm">
                        <div className="container mx-auto px-4 py-4 flex items-center justify-between">
                            <div className="flex items-center gap-3">
                                <div className="w-10 h-10 bg-gradient-primary rounded-lg flex items-center justify-center">
                                    <i className="fas fa-code text-white text-lg"></i>
                                </div>
                                <h1 className="text-xl font-bold bg-gradient-primary bg-clip-text text-transparent">
                                    Code Depot
                                </h1>
                            </div>
                            
                            <nav className="hidden md:flex items-center gap-6">
                                <a href="#features" className="text-muted-foreground hover:text-foreground transition-colors">Features</a>
                                <a href="#about" className="text-muted-foreground hover:text-foreground transition-colors">About</a>
                                <Button onClick={openSidebar} variant="outline" className="border-primary hover:bg-primary hover:bg-opacity-10">
                                    <i className="fas fa-user mr-2"></i>
                                    Sign In
                                </Button>
                            </nav>
                            
                            <Button onClick={openSidebar} className="md:hidden" variant="ghost">
                                <i className="fas fa-bars"></i>
                            </Button>
                        </div>
                    </header>

                    {/* Main Content */}
                    <main className="relative z-10">
                        {/* Hero Section */}
                        <section className="container mx-auto px-4 py-20 text-center">
                            <div className="max-w-4xl mx-auto animate-fade-in">
                                <h1 className="text-4xl md:text-6xl font-bold mb-6 bg-gradient-primary bg-clip-text text-transparent leading-tight">
                                    The Future of Code Management
                                </h1>
                                
                                <div className="text-xl md:text-2xl text-muted-foreground mb-8 h-16 flex items-center justify-center">
                                    <span>Built for </span>
                                    <TypewriterText 
                                        words={userTypes}
                                        className="text-accent font-semibold ml-2"
                                    />
                                </div>
                                
                                <p className="text-lg text-muted-foreground mb-12 max-w-2xl mx-auto leading-relaxed">
                                    Organize, collaborate, and deploy your code with unprecedented ease. 
                                    Code Depot transforms how developers manage their repositories with 
                                    AI-powered insights and seamless GitHub integration.
                                </p>
                                
                                <div className="flex flex-col sm:flex-row gap-4 justify-center items-center">
                                    <Button 
                                        onClick={openSidebar}
                                        size="lg"
                                        className="bg-gradient-primary hover:opacity-90 text-white px-8 py-4 text-lg"
                                    >
                                        <i className="fas fa-rocket mr-2"></i>
                                        Get Started Free
                                    </Button>
                                    <Button variant="outline" size="lg" className="border-primary hover:bg-primary hover:bg-opacity-10 px-8 py-4 text-lg">
                                        <i className="fas fa-play mr-2"></i>
                                        Watch Demo
                                    </Button>
                                </div>
                            </div>
                        </section>

                        {/* Stats Section */}
                        <section className="container mx-auto px-4 py-16">
                            <div className="grid grid-cols-1 md:grid-cols-3 gap-8 max-w-4xl mx-auto">
                                <div className="text-center">
                                    <div className="text-3xl font-bold text-primary mb-2">10K+</div>
                                    <div className="text-muted-foreground">Active Developers</div>
                                </div>
                                <div className="text-center">
                                    <div className="text-3xl font-bold text-secondary mb-2">50M+</div>
                                    <div className="text-muted-foreground">Lines of Code</div>
                                </div>
                                <div className="text-center">
                                    <div className="text-3xl font-bold text-accent mb-2">99.9%</div>
                                    <div className="text-muted-foreground">Uptime</div>
                                </div>
                            </div>
                        </section>

                        {/* Features Section */}
                        <section id="features" className="container mx-auto px-4 py-20">
                            <div className="text-center mb-16">
                                <h2 className="text-3xl md:text-4xl font-bold mb-4 bg-gradient-primary bg-clip-text text-transparent">
                                    Everything You Need
                                </h2>
                                <p className="text-lg text-muted-foreground max-w-2xl mx-auto">
                                    Powerful features designed to streamline your development workflow
                                </p>
                            </div>
                            
                            <div className="grid grid-cols-1 md:grid-cols-3 gap-8">
                                {[
                                    {
                                        icon: "fas fa-shield-alt",
                                        title: "Enterprise Security",
                                        description: "Bank-grade encryption and security protocols protect your intellectual property."
                                    },
                                    {
                                        icon: "fas fa-users",
                                        title: "Team Collaboration", 
                                        description: "Real-time collaboration tools that keep your team synchronized and productive."
                                    },
                                    {
                                        icon: "fas fa-rocket",
                                        title: "Instant Deployment",
                                        description: "Deploy your applications instantly with our integrated CI/CD pipeline."
                                    }
                                ].map((feature, index) => (
                                    <Card key={index} className="p-6 hover:shadow-glow transition-all duration-300 border-border hover:border-primary group">
                                        <div className="text-center">
                                            <div className="w-16 h-16 bg-gradient-primary rounded-lg flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform">
                                                <i className={`${feature.icon} text-white text-xl`}></i>
                                            </div>
                                            <h3 className="text-xl font-semibold mb-3 text-foreground">{feature.title}</h3>
                                            <p className="text-muted-foreground leading-relaxed">{feature.description}</p>
                                        </div>
                                    </Card>
                                ))}
                            </div>
                        </section>

                        {/* CTA Section */}
                        <section className="container mx-auto px-4 py-20 text-center">
                            <div className="max-w-3xl mx-auto">
                                <h2 className="text-3xl md:text-4xl font-bold mb-6 bg-gradient-primary bg-clip-text text-transparent">
                                    Ready to Transform Your Workflow?
                                </h2>
                                <p className="text-lg text-muted-foreground mb-8">
                                    Join thousands of developers who have already revolutionized their code management
                                </p>
                                <Button 
                                    onClick={openSidebar}
                                    size="lg"
                                    className="bg-gradient-primary hover:opacity-90 text-white px-12 py-4 text-lg"
                                >
                                    <i className="fas fa-arrow-right mr-2"></i>
                                    Start Your Journey
                                </Button>
                            </div>
                        </section>
                    </main>

                    {/* Footer */}
                    <footer className="relative z-10 border-t border-border bg-background">
                        <div className="container mx-auto px-4 py-8">
                            <div className="flex flex-col md:flex-row items-center justify-between">
                                <div className="flex items-center gap-3 mb-4 md:mb-0">
                                    <div className="w-8 h-8 bg-gradient-primary rounded-lg flex items-center justify-center">
                                        <i className="fas fa-code text-white"></i>
                                    </div>
                                    <span className="font-semibold text-foreground">Code Depot</span>
                                </div>
                                <div className="text-muted-foreground text-sm">
                                    © 2025 Code Depot. Built with ❤️ for developers.
                                </div>
                            </div>
                        </div>
                    </footer>

                    {/* Sidebar */}
                    <Sidebar isOpen={isSidebarOpen} onClose={closeSidebar} />
                </div>
            );
        };

        // Render the app
        const root = createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
